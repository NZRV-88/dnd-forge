import { ClassInfo } from "../types";
import { FIGHTING_STYLES } from "@/data/classes/features/fightingStyles";

export const Paladin: ClassInfo = {
    bg: "/assets/class-bgs/paladin-bg.png",
    key: "paladin",
    source: "PH24",
    name: "Паладин",
    nameEn: "Paladin",
    desc: "Клятвы и священная сила для борьбы со злом.",
    longDesc: "Паладины — это благородные воины, наделённые божественной силой для борьбы со злом и защиты невинных. Они следуют строгому кодексу чести и принимают священные клятвы, которые направляют их действия. Паладины обладают способностью исцелять раны, изгонять нежить и использовать магию для поддержки своих союзников в бою. Они часто служат в качестве лидеров и защитников в своих общинах, вдохновляя других своим примером и решимостью.",
    hitDice: 10, // d10
    mainStats: ["Сила", "Харизма"],
    proficiencies: [
        { type: "armor", category: "light" },
        { type: "armor", category: "medium" },
        { type: "armor", category: "heavy" },
        { type: "armor", category: "shield" },
        { type: "weapon", category: "simple" },
        { type: "weapon", category: "martial" },

        { type: "skill", key: "athletics" },
        { type: "skill", key: "religion" },
        { type: "savingThrow", key: "wis" },
        { type: "savingThrow", key: "cha" },
    ],
    choices: [{ type: "skill", count: 2, options: ["athletics", "intimidation", "medicine", "insight", "persuasion", "perception"] }],

    features: {
        1: [
            {
                name: "Возложение рук",
                desc: `Ваше благословенное касание может лечить раны. У вас есть резерв целительной силы, восстанавливающийся, когда вы завершаете Долгий отдых. С помощью этого резерва вы можете восстанавливать Хиты; количество Хитов в этом резерве равно вашему уровню Паладина, умноженному на 5.\n\nБонусным действием вы можете прикоснуться к существу (включая себя) и зачерпнуть силу из резерва, восстанавливая этому существу Хиты. Их количество не должно превышать число, оставшееся в резерве.\n\nВы также можете потратить 5 Хитов из резерва, чтобы снять с существа состояние Отравленный; эти потраченные Хиты не исцеляют существо.`
            },
            {
                name: "Сотворение заклинаний",
                desc: `Вы научились сотворять заклинания через молитвы и медитации. Правила сотворения заклинаний смотрите в соответствующей статье. Следующая информация описывает, как вы используете эти правила с заклинаниями Паладина.\n\nЯчейки заклинаний. В таблице «Умения Паладина» указано, сколько у вас есть ячеек заклинаний для сотворения заклинаний 1-го уровня и выше. Вы восстанавливаете все потраченные ячейки, когда завершаете Долгий отдых.\n\nПодготовленные заклинания 1-го уровня и выше. Вы подготавливаете список заклинаний 1-го уровня и выше, которые вы можете сотворять с помощью этого умения. Для начала выберите два заклинания 1-го уровня из списка заклинаний Паладина. Каждое выбираемое заклинание может быть только такого уровня, для которого у вас есть ячейка заклинаний.\n\nКоличество заклинаний в вашем списке увеличивается по мере получения уровней Паладина, как указано в столбце «Подготовленные заклинания» таблицы «Умения Паладина». Когда это число увеличивается, выбирайте дополнительные заклинания Паладина до тех пор, пока их количество не сравняется с числом, указанным в таблице. Каждое выбираемое заклинание может быть только такого уровня, для которого у вас есть ячейка заклинаний. Например, если вы Паладин 5-го уровня, ваш список подготовленных заклинаний может включать шесть заклинаний 1-го или 2-го уровня из вашей книги заклинаний в любой комбинации.\n\nЕсли другое умение Паладина даёт вам заклинания, которые у вас всегда подготовлены, то эти заклинания не учитываются в общем списке подготавливаемых вами с помощью этого умения заклинаний; в остальных отношениях для вас они считаются заклинаниями Паладина.\n\n*Замена подготовленных заклинаний*. Каждый раз, когда вы завершаете Долгий отдых, вы можете заменить одно заклинание из своего списка другим заклинанием Паладина, для которого у вас есть ячейка заклинаний.\n\n*Заклинательная характеристика*. Заклинательной характеристикой для ваших заклинаний Паладина является Харизма.\n\n*Заклинательная фокусировка*. Вы можете использовать Священный символ в качестве Заклинательной фокусировки для ваших заклинаний Паладина.`
            },
            {
                name: "Оружейное мастерство",
                desc: `Ваши тренировки с оружием позволяют вам использовать свойства мастерства двух видов оружия, которыми вы владеете, по вашему выбору.\n\nКаждый раз, когда вы завершаете Долгий отдых, вы можете изменить выбранные вами виды оружия. Например, вы могли бы переключиться на использование свойств мастерства Алебарды и Цепа.`
            },
        ],
        2: [
            {
                name: "Боевой стиль",
                desc: "Вы выбираете боевой стиль, соответствующий вашей специализации. Выберите один из следующих вариантов. Вы не можете выбирать один и тот же вариант боевого стиля, даже если позже у вас будет возможность выбрать еще один стиль.",
                choices: [
                    {
                        type: "feature",
                        count: 1,
                        options: ["blessed-warrior", "fighting-style"]
                    }
                ],
            },
            {
                name: "Кара Паладина",
                desc: `У вас всегда подготовлено заклинание Божественная кара. Кроме того, вы можете сотворить его без ячейки заклинаний, и вы должны завершить Долгий отдых, прежде чем сможете сделать это снова.`,
                spells: ["divine-smite"],
            },
        ],
        3: [
            {
                name: "Проведение божественности",
                desc: `Вы можете направлять божественную энергию непосредственно с Внешних планов, сотворяя магические эффекты. Вы начинаете с одним таким эффектом: Божественное чувство; этот эффект описан ниже. Другие умения Паладина могут дать вам иные варианты эффектов Проведения божественности. Каждый раз, когда вы используете Проведение божественности этого класса, выберите, какой эффект Проведения божественности этого класса вы создаёте.\n\nВы можете использовать Проведение божественности этого класса дважды. Вы восстанавливаете одно потраченное использование Проведения по завершению Короткого отдыха, и вы восстанавливаете все потраченные использования по завершению Долгого отдыха. Вы получаете ещё одно дополнительное использование, когда достигаете 11-го уровня Паладина.\n\nЕсли эффект Проведения божественности требует спасброска, его Сл равняется Сл спасброска заклинаний от умения Сотворение заклинаний этого класса.\n\n*Божественное чувство*. Бонусным действием вы можете открыть свое сознание для обнаружения Исчадий, Небожителей и Нежити. В течение следующих 10 минут или пока вы не получите состояние Недееспособный, вы знаете местоположение всех существ перечисленных типов в пределах 60 футов от вас и какие у этих существ типы. В той же области действия вы также обнаруживаете присутствие любого места или объекта, которые были освящены или осквернены, как, например, заклинанием Святилище.`,
            },
            {
                name: "Клятва Паладина",
                desc: "Вы получаете подкласс Паладина на ваш выбор. Подкласс — это специализация, которая даёт вам умения на определённых уровнях Паладина. Вы всегда получаете все умения подкласса, уровень которых не больше вашего уровня Паладина.",
                choices: [
                    {
                        type: "subclass",
                        count: 1,
                    }
                ],
            },
        ],
        4: [
            {
                name: "Увеличение характеристик",
                desc: `Вы получаете черту Увеличение характеристик или другую черту на ваш выбор, требованиям которой вы соответствуете.`,
                choices: [
                    {
                        type: "ability",
                        count: 2,
                        value: 1,
                    }
                ],
            },
        ],
        5: [{ name: "Дополнительная атака", desc: "Две атаки при действии Атака." }],
    },

    spellcasting: {
        ability: "cha",
        progression: {
            1: { slots: [2] },               // 2 ячейки заклинаний 1 уровня
            2: { slots: [2] },
            3: { slots: [3] },               // 3 ячейки заклинаний 1 уровня
            4: { slots: [3] },
            5: { slots: [4, 2] },            // 4 первого уровня, 2 второго уровня
            6: { slots: [4, 2] },
            7: { slots: [4, 3] },
            8: { slots: [4, 3] },
            9: { slots: [4, 3, 2] },
            10: { slots: [4, 3, 2] },
            11: { slots: [4, 3, 3] },
            12: { slots: [4, 3, 3] },
            13: { slots: [4, 3, 3, 1] },
            14: { slots: [4, 3, 3, 1] },
            15: { slots: [4, 3, 3, 2] },
            16: { slots: [4, 3, 3, 2] },
            17: { slots: [4, 3, 3, 3, 1] },
            18: { slots: [4, 3, 3, 3, 1] },
            19: { slots: [4, 3, 3, 3, 2] },
            20: { slots: [4, 3, 3, 3, 2] }
        }
    },

    subclasses: [
        {
            key: "Клятва преданности",
            source: "PH14",
            desc: "Честь, честность и защита.",
            features: {
                3: [{ name: "Канон преданности", desc: "Заклинания и приёмы защиты союзников." }],
                7: [{ name: "Аура преданности", desc: "Союзники рядом получают иммунитет к очарованию." }],
                15: [{ name: "Чистота духа", desc: "Устойчивость к магии и влиянию." }],
                20: [{ name: "Святой чемпион", desc: "Мощная аура и свет святости." }],
            },
        },
        {
            key: "Клятва древних",
            source: "PH14",
            name: "",
            nameEn: "",
            desc: "Свет природы и защита.",
            features: {
                3: [{ name: "Клятва древних", desc: "Природные чары и связывающий удар." }],
                7: [{ name: "Аура стража", desc: "Понижает урон от чар вокруг вас." }],
                15: [{ name: "Неугасающая жизнь", desc: "Восстановление сил в бою." }],
                20: [{ name: "Аватар природы", desc: "Становитесь проводником первозданной силы." }],
            },
        },
        {
            key: "oath-of-vengeance",
            source: "PH14",
            name: "Клятва мести",
            nameEn: "Oath of Vengeance",
            desc: "Накажите злодеев любой ценой. Клятва мести — это торжественное обещание наказать тех, кто совершил тяжкие злодеяния.",
            features: {
                3: [{ name: "Канон мести", desc: "Канонические клятвы и клеймение врагов." }],
                7: [{ name: "Расплата", desc: "Мобильность и преследование цели." }],
                15: [{ name: "Непреклонный", desc: "Игнорирование помех и сдерживания." }],
                20: [{ name: "Авангард возмездия", desc: "Аура, делающая вас бичом злодеев." }],
            },
        },
        {
            key: "Клятва завоевания",
            source: "PH14",
            desc: "Страх и доминирование.",
            features: {
                3: [{ name: "Жезезная воля", desc: "Контроль поля боя страхом." }],
                7: [{ name: "Аура завоевателя", desc: "Подавление воли врагов поблизости." }],
                15: [{ name: "Несокрушимый", desc: "Стойкость к урону и магии." }],
                20: [{ name: "Неумолимый владыка", desc: "Вы внушаете ужас и подчинение." }],
            },
        },
        {
            key: "Клятва искупления",
            source: "PH14",
            desc: "Мир и сдерживание насилия.",
            features: {
                3: [{ name: "Сдержать конфликт", desc: "Смягчение урона и защита." }],
                7: [{ name: "Аура смирения", desc: "Подталкивает врагов к умеренности." }],
                15: [{ name: "Защитник слабых", desc: "Перехват урона по союзникам." }],
                20: [{ name: "Аватар мира", desc: "Становитесь оплотом ненасилия." }],
            },
        },
        {
            key: "Клятва славы",
            source: "PH14",
            desc: "Подвиги и вдохновение.",
            features: {
                3: [{ name: "Испытание", desc: "Вызовы и подвиги вдохновляют союзников." }],
                7: [{ name: "Аура рвения", desc: "Увеличивает мобильность команды." }],
                15: [{ name: "Несокрушимое сердце", desc: "Воля к победе и стойкость." }],
                20: [{ name: "Живое воплощение славы", desc: "Героическая трансформация." }],
            },
        },
        {
            key: "Клятва стражей",
            source: "PH14",
            desc: "Защита мира от иных планов.",
            features: {
                3: [{ name: "Страж барьеров", desc: "Преграды и метки порталов." }],
                7: [{ name: "Аура дозорного", desc: "Предупреждает о межплановых угрозах." }],
                15: [{ name: "Печать запрета", desc: "Сдерживание чужеродных сил." }],
                20: [{ name: "Бастион миров", desc: "Вы — крепость между мирами." }],
            },
        },
        {
            key: "Клятва короны",
            source: "PH14",
            desc: "Лояльность и порядок.",
            features: {
                3: [{ name: "Коронная стража", desc: "Щиты и защита подданных." }],
                7: [{ name: "Аура власти", desc: "Укрепляет дисциплину союзников." }],
                15: [{ name: "Верность до конца", desc: "Выдержка и стойкость." }],
                20: [{ name: "Королевский чемпион", desc: "Знамя порядка и законности." }],
            },
        },
    ],

};